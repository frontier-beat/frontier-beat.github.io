{"version":3,"sources":["assets/light-logo.png","assets/dark-logo.png","App.js","reportWebVitals.js","index.js"],"names":["module","exports","renderMath","text","split","map","part","index","startsWith","endsWith","unescapedLatex","slice","replace","React","createElement","key","className","InlineMath","applyTheme","isDark","document","body","classList","toggle","RepoCard","_ref","repo","formattedRate","hourly_rate","toFixed","showRate","components","p","_ref2","children","Children","child","li","_ref3","ul","_ref4","code","_ref5","node","inline","props","match","exec","Object","assign","href","html_link","target","rel","title","paper_summary","p1","BlockMath","ReactMarkdown","FaCode","html_url","full_name","FaStar","star_count","content","Footer","FaCoffee","size","FaHeart","Date","getFullYear","LogoCard","_ref6","isDarkMode","onClick","window","location","reload","src","darkLogo","lightLogo","alt","WelcomeMessage","App","repos","setRepos","useState","page","setPage","hasMore","setHasMore","setIsDarkMode","savedTheme","localStorage","getItem","matchMedia","matches","initialFetchDone","useRef","useEffect","mediaQuery","handleChange","e","addListener","removeListener","current","fetchRepos","setItem","async","newRepos","axios","get","pageNum","data","prevRepos","length","error","console","backgroundRef","handleScroll","scrolled","pageYOffset","yPosition","style","transform","addEventListener","removeEventListener","Fragment","ref","toggleTheme","prevMode","FaSun","FaMoon","InfiniteScroll","dataLength","next","loader","endMessage","textAlign","id","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.17383656.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/light-logo.6ae19916.png\";","module.exports = __webpack_public_path__ + \"static/media/dark-logo.37d86adb.png\";","import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport ReactMarkdown from 'react-markdown';\nimport { InlineMath, BlockMath } from 'react-katex';\nimport { FaStar, FaCode, FaMoon, FaSun, FaCoffee, FaHeart } from 'react-icons/fa';\nimport 'katex/dist/katex.min.css';\nimport './App.css';\nimport lightLogo from './assets/light-logo.png';\nimport darkLogo from './assets/dark-logo.png';\n\nconst renderMath = (text) => {\n  if (typeof text !== 'string') {\n    return text;\n  }\n  \n  // Split the text into LaTeX and non-LaTeX parts\n  const parts = text.split(/(\\$[^$\\n]+?\\$)/);\n  \n  return parts.map((part, index) => {\n    if (part.startsWith('$') && part.endsWith('$')) {\n      // Unescape underscores before passing to InlineMath\n      const unescapedLatex = part.slice(1, -1).replace(/\\\\_/g, '_');\n      return <span key={index} className=\"katex-inline\"><InlineMath>{unescapedLatex}</InlineMath></span>;\n    } else {\n      // Handle escaped backslashes\n      const processedText = part.replace(/\\\\\\\\/g, '\\\\');\n      return processedText;\n    }\n  });\n};\n\nconst renderTitle = (text) => {\n  return renderMath(text);\n};\n\nconst applyTheme = (isDark) => {\n  document.body.classList.toggle('dark-mode', isDark);\n  document.body.classList.toggle('light-mode', !isDark);\n};\n\nconst RepoCard = ({ repo }) => {\n  const formattedRate = repo.hourly_rate.toFixed(2);\n  const showRate = formattedRate !== '0.00';\n\n  const components = {\n    p: ({ children }) => <p>{React.Children.map(children, child => \n      typeof child === 'string' ? renderMath(child) : child\n    )}</p>,\n    li: ({ children }) => <li>{React.Children.map(children, child => \n      typeof child === 'string' ? renderMath(child) : child\n    )}</li>,\n    ul: ({ children }) => <ul>{children}</ul>,\n    code: ({ node, inline, className, children, ...props }) => {\n      const match = /language-(\\w+)/.exec(className || '')\n      return !inline && match ? (\n        <pre className={className} {...props}>\n          <code className={className}>{children}</code>\n        </pre>\n      ) : (\n        <code className={className} {...props}>\n          {children}\n        </code>\n      )\n    },\n  };\n\n  const escapeLatex = (text) => {\n    return text.replace(/\\$(.*?)\\$/g, (match, p1) => {\n      return '$' + p1.replace(/_/g, '\\\\_') + '$';\n    });\n  };\n\n  const processContent = (content) => {\n    // Escape underscores in LaTeX expressions\n    const escapedContent = escapeLatex(content);\n    \n    // Split on block-level equations\n    const parts = escapedContent.split(/(\\$\\$[\\s\\S]*?\\$\\$)/);\n    \n    return parts.map((part, index) => {\n      if (part.startsWith('$$') && part.endsWith('$$')) {\n        return <div key={index} className=\"katex-display\"><BlockMath>{part.slice(2, -2).replace(/\\\\_/g, '_')}</BlockMath></div>;\n      } else {\n        // Use ReactMarkdown for everything else, including inline LaTeX\n        return <ReactMarkdown key={index} components={components}>{part}</ReactMarkdown>;\n      }\n    });\n  };\n\n  return (\n    <div className=\"repo-card\">\n      <div className=\"repo-card-content\">\n        <h2>\n          <a href={repo.html_link} target=\"_blank\" rel=\"noopener noreferrer\">\n            {renderTitle(repo.title)}\n          </a>\n        </h2>\n        <div className=\"paper-summary\">\n          {processContent(repo.paper_summary)}\n        </div>\n        <div className=\"repo-stats\">\n          <FaCode />\n          <a href={repo.html_url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {repo.full_name}\n          </a>\n        </div>\n        <div className=\"repo-stats\">\n          <FaStar />\n          {repo.star_count}\n          {showRate && ` (+${formattedRate}/hour)`}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Footer = () => (\n  <div className=\"footer\">\n    <FaCoffee size={10}/> Freshly brewed with <FaHeart size={8}/> at the <a \n      href=\"https://www.recurse.com/\" \n      target=\"_blank\" \n      rel=\"noopener noreferrer\"\n    >Recurse Center</a> in New York Â© {new Date().getFullYear()} <a\n      href=\"https://eric-bolton.github.io/\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >Eric Bolton</a>. All rights reserved.\n  </div>\n  );\n\nconst LogoCard = ({ isDarkMode }) => (\n  <div className=\"logo-card\" onClick={() => window.location.reload()}>\n    <img src={isDarkMode ? darkLogo : lightLogo} alt=\"Frontier Beat Logo\" className=\"App-logo\" />\n  </div>\n);\n\nconst WelcomeMessage = () => (\n  <div className=\"welcome-message\">\n    <h2>Today's Trending Open-Source Machine Learning Papers</h2>\n  </div>\n);\n\nfunction App() {\n  const [repos, setRepos] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme) {\n      return savedTheme === 'dark';\n    }\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\n  });\n  const initialFetchDone = useRef(false);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = (e) => {\n      setIsDarkMode(e.matches);\n    };\n\n    mediaQuery.addListener(handleChange);\n\n    return () => mediaQuery.removeListener(handleChange);\n  }, []);\n\n  useEffect(() => {\n    applyTheme(isDarkMode);\n    if (!initialFetchDone.current) {\n      fetchRepos(1);\n      initialFetchDone.current = true;\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');\n    applyTheme(isDarkMode);\n  }, [isDarkMode]);\n\n  const toggleTheme = () => {\n    setIsDarkMode(prevMode => !prevMode);\n  };\n  \n  const fetchRepos = async (pageNum) => {\n    try {\n      const response = await axios.get(`https://api.frontier-beat.site/top_papers?page=${pageNum}&per_page=10`);\n      const newRepos = response.data.repos;\n      setRepos((prevRepos) => [...prevRepos, ...newRepos]);\n      setPage(pageNum + 1);\n      if (newRepos.length < 10) {\n        setHasMore(false);\n      }\n    } catch (error) {\n      console.error('Error fetching repos:', error);\n    }\n  };\n\n  const backgroundRef = useRef(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrolled = window.pageYOffset;\n      if (backgroundRef.current) {\n        const yPosition = -(scrolled * 0.005) % 50; // The % 100 creates the repeating effect\n        backgroundRef.current.style.transform = `translate3d(0, ${yPosition}%, 0)`;\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n  \n  return (\n    <>\n      <div className=\"background\" ref={backgroundRef}></div>\n      <div className=\"App\">\n        <div className=\"theme-toggle\" onClick={toggleTheme}>\n          {isDarkMode ? <FaSun /> : <FaMoon />}\n        </div>\n        <InfiniteScroll\n          dataLength={repos.length}\n          next={() => fetchRepos(page)}\n          hasMore={hasMore}\n          loader={<div className=\"loading\">Loading trending papers...</div>}\n          endMessage={\n            <p style={{ textAlign: 'center' }}>\n              <b>You've reached the end of our trending ML papers list!</b>\n            </p>\n          }\n        >\n          {repos.map((repo, index) => (\n            <React.Fragment key={repo.id}>\n              {index === 0 && (\n                <>\n                  <LogoCard isDarkMode={isDarkMode} />\n                  <WelcomeMessage />\n                </>\n              )}\n              <RepoCard repo={repo} />\n            </React.Fragment>\n          ))}\n        </InfiniteScroll>\n      </div>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}